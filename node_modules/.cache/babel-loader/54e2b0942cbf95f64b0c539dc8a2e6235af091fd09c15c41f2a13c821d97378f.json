{"ast":null,"code":"import _toConsumableArray from\"/Users/marcos/Desktop/MJ-Blog-Application/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/marcos/Desktop/MJ-Blog-Application/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/marcos/Desktop/MJ-Blog-Application/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/marcos/Desktop/MJ-Blog-Application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Layout from'./Layout';import Home from'./Home';import NewPost from'./NewPost';import PostPage from'./PostPage';import Settings from'./Settings';import Missing from'./Missing';import SignIn from'./SignIn';import SignUp from'./SignUp';import MyPostDisplay from'./MyPostDisplay';import EditPost from'./EditPost';import{Route,Routes,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import{format}from'date-fns';import{auth,database}from'./data/FireBase';import{createUserWithEmailAndPassword}from\"firebase/auth\";import{signInWithEmailAndPassword}from\"firebase/auth\";import{getDocs,addDoc,collection,query,where,updateDoc,deleteDoc}from'firebase/firestore';import{storage}from'./data/FireBase';import{ref,uploadBytes,getDownloadURL}from'firebase/storage';//unique ids\nimport{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),postTitle=_useState8[0],setPostTitle=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),postBody=_useState10[0],setPostBody=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),editTitle=_useState12[0],setEditTitle=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),editBody=_useState14[0],setEditBody=_useState14[1];var navigate=useNavigate();var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),emailInput=_useState16[0],setEmailInput=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),usernameInput=_useState18[0],setUsernameInput=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),passwordInput=_useState20[0],setPasswordInput=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isLoggedIn=_useState22[0],setIsLoggedIn=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),myPost=_useState24[0],setMyPost=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isSigningUp=_useState26[0],setIsSigningUp=_useState26[1];var _useState27=useState(true),_useState28=_slicedToArray(_useState27,2),isLoading=_useState28[0],setIsLoading=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),selectedImage=_useState30[0],setSelectedImage=_useState30[1];useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var postCollection,querySnapshot,fetchedPosts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:postCollection=collection(database,'posts');_context.next=3;return getDocs(postCollection);case 3:querySnapshot=_context.sent;fetchedPosts=[];querySnapshot.forEach(function(doc){fetchedPosts.push(doc.data());});setPosts(fetchedPosts);console.log(fetchedPosts);case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();fetchPosts();},[]);useEffect(function(){var storedIsLoggedIn=localStorage.getItem('isLoggedIn');if(storedIsLoggedIn==='true'){setIsLoggedIn(true);var storedUsername=localStorage.getItem('username');setUsernameInput(storedUsername);}// Simulate a 2-second timeout before setting isLoading to false\nvar timeout=setTimeout(function(){setIsLoading(false);},2000);return function(){return clearTimeout(timeout);};// Cleanup the timeout on component unmount\n},[]);// Save isLoggedIn and current username to local storage whenever they change\nuseEffect(function(){localStorage.setItem('isLoggedIn',isLoggedIn.toString());localStorage.setItem('username',usernameInput);},[isLoggedIn,usernameInput]);useEffect(function(){var filteredResults=posts.filter(function(post){return post.body.toLowerCase().includes(search.toLowerCase())||post.title.toLowerCase().includes(search.toLowerCase());});var userFilteredResults=filteredResults.filter(function(post){return post.username===usernameInput;});setSearchResults(filteredResults.reverse());setMyPost(userFilteredResults);},[posts,search,usernameInput]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var id,datetime,newPost,postCollection;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();id=uuidv4();datetime=format(new Date(),'MMMM dd, yyyy pp');newPost={id:id,username:usernameInput,title:postTitle,datetime:datetime,body:postBody,imageUrl:selectedImage};_context2.prev=4;postCollection=collection(database,'posts');_context2.next=8;return addDoc(postCollection,newPost);case 8:// Update state with the new post\nsetPosts(function(prevPosts){return[].concat(_toConsumableArray(prevPosts),[newPost]);});setPostTitle('');setPostBody('');navigate('/');_context2.next=17;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](4);console.log(\"Error \".concat(_context2.t0.message));case 17:case\"end\":return _context2.stop();}},_callee2,null,[[4,14]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleEdit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var datetime,updatedPost,querySnapshot;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:datetime=format(new Date(),'MMMM dd, yyyy pp');updatedPost={id:id,username:usernameInput,// Use usernameInput instead of emailInput\ntitle:editTitle,datetime:datetime,body:editBody};_context4.prev=2;_context4.next=5;return getDocs(query(collection(database,'posts'),where('id','==',id)));case 5:querySnapshot=_context4.sent;if(!querySnapshot.empty){querySnapshot.forEach(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(doc){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return updateDoc(doc.ref,updatedPost);case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());}setPosts(function(prevPosts){return prevPosts.map(function(post){return post.id===id?updatedPost:post;});});setEditTitle('');setEditBody('');navigate('/');_context4.next=16;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](2);console.log(\"Error: \".concat(_context4.t0.message));case 16:case\"end\":return _context4.stop();}},_callee4,null,[[2,13]]);}));return function handleEdit(_x2){return _ref3.apply(this,arguments);};}();var handleImageChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(e){var imageFile,storageRef,downloadURL;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(!e.target.files.length){_context5.next=15;break;}imageFile=e.target.files[0];_context5.prev=2;// Upload the image to Firebase Storage\nstorageRef=ref(storage,\"\".concat(usernameInput,\"/\")+imageFile.name);_context5.next=6;return uploadBytes(storageRef,imageFile);case 6:_context5.next=8;return getDownloadURL(storageRef);case 8:downloadURL=_context5.sent;setSelectedImage(downloadURL);// Update the selectedImage state\n_context5.next=15;break;case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](2);console.error('Error uploading image:',_context5.t0);case 15:case\"end\":return _context5.stop();}},_callee5,null,[[2,12]]);}));return function handleImageChange(_x4){return _ref5.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(postId){var querySnapshot;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return getDocs(query(collection(database,'posts'),where('id','==',postId)));case 3:querySnapshot=_context7.sent;if(!querySnapshot.empty){querySnapshot.forEach(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(doc){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return deleteDoc(doc.ref);case 2:case\"end\":return _context6.stop();}},_callee6);}));return function(_x6){return _ref7.apply(this,arguments);};}());}// Update state by removing the deleted post\nsetPosts(function(prevPosts){return prevPosts.filter(function(post){return post.id!==postId;});});navigate(\"/\");_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);console.log(\"Error \".concat(_context7.t0.message));case 12:case\"end\":return _context7.stop();}},_callee7,null,[[0,9]]);}));return function handleDelete(_x5){return _ref6.apply(this,arguments);};}();var handleSignOut=function handleSignOut(e){e.preventDefault();auth.signOut().then(function(){setIsLoggedIn(false);setEmailInput('');setUsernameInput('');setPasswordInput('');alert(\"You were signed out.\");});};var handleSignIn=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e){var querySnapshot;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return signInWithEmailAndPassword(auth,emailInput,passwordInput);case 3:_context8.next=5;return getDocs(query(collection(database,'usernames'),where('userId','==',auth.currentUser.uid)));case 5:querySnapshot=_context8.sent;if(!querySnapshot.empty){querySnapshot.forEach(function(doc){setUsernameInput(doc.data().username);});}setIsLoggedIn(true);setPasswordInput('');navigate(\"/\");console.log(usernameInput);_context8.next=17;break;case 13:_context8.prev=13;_context8.t0=_context8[\"catch\"](0);alert(\"Invalid username or password. Please try again.\");console.log(_context8.t0.message);case 17:case\"end\":return _context8.stop();}},_callee8,null,[[0,13]]);}));return function handleSignIn(_x7){return _ref8.apply(this,arguments);};}();var handleSignUp=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e){var querySnapshot,userCollection,newUser;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return getDocs(query(collection(database,'usernames'),where('username','==',usernameInput)));case 3:querySnapshot=_context9.sent;if(querySnapshot.empty){_context9.next=8;break;}alert(\"Username Taken\");_context9.next=18;break;case 8:_context9.next=10;return createUserWithEmailAndPassword(auth,emailInput,passwordInput);case 10:// Add user information to Firestore collection\nuserCollection=collection(database,'usernames');// 'usernames' is the name of your collection\nnewUser={userId:auth.currentUser.uid,// Firebase UID of the user\nusername:usernameInput};_context9.next=14;return addDoc(userCollection,newUser);case 14:setIsSigningUp(false);setIsLoggedIn(true);alert(\"You were signed up.\");navigate('/');case 18:_context9.next=24;break;case 20:_context9.prev=20;_context9.t0=_context9[\"catch\"](0);alert(\"Username taken or invalid input. Please try again.\");console.log(_context9.t0.message);case 24:case\"end\":return _context9.stop();}},_callee9,null,[[0,20]]);}));return function handleSignUp(_x8){return _ref9.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[!isLoggedIn&&!isSigningUp&&!isLoading&&/*#__PURE__*/_jsx(SignIn,{handleSignIn:handleSignIn,setEmailInput:setEmailInput,emailInput:emailInput,passwordInput:passwordInput,setPasswordInput:setPasswordInput,setIsSigningUp:setIsSigningUp}),isSigningUp&&/*#__PURE__*/_jsx(SignUp,{usernameInput:usernameInput,setUsernameInput:setUsernameInput,handleSignUp:handleSignUp,setEmailInput:setEmailInput,passwordInput:passwordInput,setPasswordInput:setPasswordInput,emailInput:emailInput,setIsSigningUp:setIsSigningUp,setIsLoggedIn:setIsLoggedIn}),isLoggedIn&&!isSigningUp&&/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{search:search,setSearch:setSearch,usernameInput:usernameInput}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Home,{posts:searchResults,usernameInput:usernameInput})}),/*#__PURE__*/_jsx(Route,{path:\"myPost\",element:/*#__PURE__*/_jsx(MyPostDisplay,{posts:searchResults,usernameInput:usernameInput,myPost:myPost})}),/*#__PURE__*/_jsxs(Route,{path:\"post\",children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(NewPost,{handleImageChange:handleImageChange,handleSubmit:handleSubmit,postTitle:postTitle,setPostTitle:setPostTitle,postBody:postBody,setPostBody:setPostBody,setSelectedImage:setSelectedImage,selectedImage:selectedImage})}),/*#__PURE__*/_jsx(Route,{path:\"/post/edit/:id\",element:/*#__PURE__*/_jsx(EditPost,{posts:posts,handleEdit:handleEdit,editTitle:editTitle,setEditTitle:setEditTitle,editBody:editBody,setEditBody:setEditBody})}),/*#__PURE__*/_jsx(Route,{path:\":id\",element:/*#__PURE__*/_jsx(PostPage,{usernameInput:usernameInput,posts:posts,handleDelete:handleDelete})})]}),/*#__PURE__*/_jsx(Route,{path:\"settings\",element:/*#__PURE__*/_jsx(Settings,{handleSignOut:handleSignOut})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Missing,{})})]})})]});}export default App;","map":{"version":3,"names":["Layout","Home","NewPost","PostPage","Settings","Missing","SignIn","SignUp","MyPostDisplay","EditPost","Route","Routes","useNavigate","useState","useEffect","format","auth","database","createUserWithEmailAndPassword","signInWithEmailAndPassword","getDocs","addDoc","collection","query","where","updateDoc","deleteDoc","storage","ref","uploadBytes","getDownloadURL","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","search","setSearch","_useState5","_useState6","searchResults","setSearchResults","_useState7","_useState8","postTitle","setPostTitle","_useState9","_useState10","postBody","setPostBody","_useState11","_useState12","editTitle","setEditTitle","_useState13","_useState14","editBody","setEditBody","navigate","_useState15","_useState16","emailInput","setEmailInput","_useState17","_useState18","usernameInput","setUsernameInput","_useState19","_useState20","passwordInput","setPasswordInput","_useState21","_useState22","isLoggedIn","setIsLoggedIn","_useState23","_useState24","myPost","setMyPost","_useState25","_useState26","isSigningUp","setIsSigningUp","_useState27","_useState28","isLoading","setIsLoading","_useState29","_useState30","selectedImage","setSelectedImage","fetchPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","postCollection","querySnapshot","fetchedPosts","wrap","_callee$","_context","prev","next","sent","forEach","doc","push","data","console","log","stop","apply","arguments","storedIsLoggedIn","localStorage","getItem","storedUsername","timeout","setTimeout","clearTimeout","setItem","toString","filteredResults","filter","post","body","toLowerCase","includes","title","userFilteredResults","username","reverse","handleSubmit","_ref2","_callee2","e","id","datetime","newPost","_callee2$","_context2","preventDefault","Date","imageUrl","prevPosts","concat","_toConsumableArray","t0","message","_x","handleEdit","_ref3","_callee4","updatedPost","_callee4$","_context4","empty","_ref4","_callee3","_callee3$","_context3","_x3","map","_x2","handleImageChange","_ref5","_callee5","imageFile","storageRef","downloadURL","_callee5$","_context5","target","files","length","name","error","_x4","handleDelete","_ref6","_callee7","postId","_callee7$","_context7","_ref7","_callee6","_callee6$","_context6","_x6","_x5","handleSignOut","signOut","then","alert","handleSignIn","_ref8","_callee8","_callee8$","_context8","currentUser","uid","_x7","handleSignUp","_ref9","_callee9","userCollection","newUser","_callee9$","_context9","userId","_x8","children","path","element","index"],"sources":["/Users/marcos/Desktop/MJ-Blog-Application/src/App.js"],"sourcesContent":["import Layout from './Layout';\nimport Home from './Home';\nimport NewPost from './NewPost';\nimport PostPage from './PostPage';\nimport Settings from './Settings';\nimport Missing from './Missing';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport MyPostDisplay from './MyPostDisplay';\nimport EditPost from './EditPost';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { auth, database } from './data/FireBase';\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { getDocs, addDoc, collection, query, where, updateDoc, deleteDoc} from 'firebase/firestore';\nimport { storage } from './data/FireBase';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\n//unique ids\nimport { v4 as uuidv4 } from 'uuid';\n\n\nfunction App() {\n  const [posts, setPosts] = useState([]);\n  const [search, setSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [postTitle, setPostTitle] = useState('');\n  const [postBody, setPostBody] = useState('');\n  const [editTitle, setEditTitle] = useState('');\n  const [editBody, setEditBody] = useState('');\n  const navigate = useNavigate();\n  const [emailInput, setEmailInput] = useState('');\n  const [usernameInput, setUsernameInput] = useState('');\n  const [passwordInput, setPasswordInput] = useState('');\n  const [isLoggedIn , setIsLoggedIn] = useState(false)\n  const [myPost, setMyPost] = useState([]);\n  const [isSigningUp, setIsSigningUp] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedImage, setSelectedImage] = useState('');\n\n\n  \n  useEffect(() => {\n    const fetchPosts = async () => {\n      const postCollection = collection(database, 'posts');\n      const querySnapshot = await getDocs(postCollection);\n\n      const fetchedPosts = [];\n      querySnapshot.forEach((doc) => {\n        fetchedPosts.push(doc.data());\n      });\n      setPosts(fetchedPosts);\n      console.log(fetchedPosts)\n    };\n\n    fetchPosts();\n    \n  }, []);\n\n \n  \n  useEffect(() => {\n\n    const storedIsLoggedIn = localStorage.getItem('isLoggedIn');\n    if (storedIsLoggedIn === 'true') {\n      setIsLoggedIn(true);\n      const storedUsername = localStorage.getItem('username');\n      setUsernameInput(storedUsername);\n    }\n\n    // Simulate a 2-second timeout before setting isLoading to false\n    const timeout = setTimeout(() => {\n      setIsLoading(false);\n    }, 2000);\n    return () => clearTimeout(timeout); // Cleanup the timeout on component unmount\n  }, []);\n  \n  \n  // Save isLoggedIn and current username to local storage whenever they change\n  \n  \n  useEffect(() => {\n    localStorage.setItem('isLoggedIn', isLoggedIn.toString());\n    localStorage.setItem('username', usernameInput);\n  }, [isLoggedIn, usernameInput]);\n\n  \n  useEffect(() => {\n    const filteredResults = posts.filter((post) =>\n      ((post.body).toLowerCase()).includes(search.toLowerCase())\n      || ((post.title).toLowerCase()).includes(search.toLowerCase()));\n\n      const userFilteredResults = filteredResults.filter(\n        (post) => post.username === usernameInput\n      );\n\n    setSearchResults(filteredResults.reverse());\n    setMyPost(userFilteredResults);\n  }, [posts, search, usernameInput])\n\n  const handleSubmit = async(e) => {\n    e.preventDefault();\n    \n    const id = uuidv4();\n    const datetime = format(new Date(), 'MMMM dd, yyyy pp');\n    const newPost = { id, username: usernameInput, title: postTitle, datetime, body: postBody, imageUrl: selectedImage  };\n    try {\n      const postCollection = collection(database, 'posts');\n      await addDoc(postCollection, newPost);\n  \n      // Update state with the new post\n    setPosts((prevPosts) => [...prevPosts, newPost]);\n    setPostTitle('');\n    setPostBody('');\n    navigate('/');  \n    \n    \n    } catch (err) {\n      console.log(`Error ${err.message}`);\n    }\n\n  }\n\n  \n\n\n\n  const handleEdit = async (id) => {\n    const datetime = format(new Date(), 'MMMM dd, yyyy pp');\n    const updatedPost = {\n      id,\n      username: usernameInput, // Use usernameInput instead of emailInput\n      title: editTitle,\n      datetime,\n      body: editBody,\n    };\n  \n    try {\n      const querySnapshot = await getDocs(query(collection(database, 'posts'), where('id', '==', id)));\n      \n      if (!querySnapshot.empty) {\n        querySnapshot.forEach(async (doc) => {\n          await updateDoc(doc.ref, updatedPost); // Use doc.ref to get the document reference\n        });\n      }\n  \n      setPosts((prevPosts) =>\n        prevPosts.map((post) => (post.id === id ? updatedPost : post))\n      );\n      setEditTitle('');\n      setEditBody('');\n      navigate('/');\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  };\n  const handleImageChange = async (e) => {\n    \n    if (e.target.files.length) {\n      const imageFile = e.target.files[0];\n  \n      try {\n        // Upload the image to Firebase Storage\n        const storageRef = ref(storage, `${usernameInput}/` + imageFile.name);\n        await uploadBytes(storageRef, imageFile);\n  \n        // Get the download URL for the uploaded image\n        const downloadURL = await getDownloadURL(storageRef);\n  \n        setSelectedImage(downloadURL); // Update the selectedImage state\n      } catch (error) {\n        console.error('Error uploading image:', error);\n      }\n    }\n  };\n  \n  const handleDelete = async (postId) => {\n    try {\n      const querySnapshot = await getDocs(query(collection(database, 'posts'), where('id', '==', postId)));\n      \n      if (!querySnapshot.empty) {\n        querySnapshot.forEach(async (doc) => {\n          await deleteDoc(doc.ref); // Use doc.ref to get the document reference\n        });\n      }\n      \n      // Update state by removing the deleted post\n      setPosts((prevPosts) => prevPosts.filter(post => post.id !== postId));\n      navigate(\"/\");\n    } catch (err) {\n      console.log(`Error ${err.message}`);\n    }\n  };\n  \n  const handleSignOut = (e) => {\n    e.preventDefault();\n    auth.signOut().then(() => {\n      setIsLoggedIn(false);\n      setEmailInput('');\n      setUsernameInput('');\n      setPasswordInput('');\n      alert(\"You were signed out.\");\n    });\n  };\n   \n  const handleSignIn = async (e) => {\n    try {\n      await signInWithEmailAndPassword(auth, emailInput, passwordInput);\n  \n      // Retrieve the username from Firestore using the email\n      const querySnapshot = await getDocs(query(collection(database, 'usernames'), where('userId', '==',auth.currentUser.uid)));\n      if (!querySnapshot.empty) {\n        querySnapshot.forEach((doc) => {\n          setUsernameInput(doc.data().username);\n        });\n      }\n  \n      setIsLoggedIn(true);\n      setPasswordInput('');\n      navigate(\"/\");\n      console.log(usernameInput)\n    } catch (error) {\n      alert(\"Invalid username or password. Please try again.\");\n      console.log(error.message);\n    }\n  };\n  \n  \n    \n  const handleSignUp = async (e) => {\n    try {\n      // Check if the username is already taken\n      const querySnapshot = await getDocs(query(collection(database, 'usernames'), where('username', '==', usernameInput)));\n      if (!querySnapshot.empty) {\n        alert(\"Username Taken\");\n      } else {\n        // Sign up the user using Firebase authentication\n        await createUserWithEmailAndPassword(auth, emailInput, passwordInput);\n  \n        // Add user information to Firestore collection\n        const userCollection = collection(database, 'usernames'); // 'usernames' is the name of your collection\n        const newUser = {\n          userId: auth.currentUser.uid, // Firebase UID of the user\n          username: usernameInput,\n        };\n        await addDoc(userCollection, newUser);\n  \n        setIsSigningUp(false);\n        setIsLoggedIn(true);\n        alert(\"You were signed up.\");\n        navigate('/');\n      }\n    } catch (error) {\n      alert(\"Username taken or invalid input. Please try again.\");\n      console.log(error.message);\n    }\n  };\n  \n    \n    return (\n      <>\n       \n        {!isLoggedIn && !isSigningUp && !isLoading && (\n          <SignIn\n            handleSignIn={handleSignIn}\n            setEmailInput={setEmailInput}\n            emailInput = {emailInput}\n            passwordInput={passwordInput}\n            setPasswordInput={setPasswordInput}\n            setIsSigningUp={setIsSigningUp}\n           \n          />\n        )}\n      \n        {isSigningUp && (\n          <SignUp\n            usernameInput= {usernameInput}\n            setUsernameInput= { setUsernameInput}\n            handleSignUp={handleSignUp}\n            setEmailInput={setEmailInput}\n            passwordInput={passwordInput}\n            setPasswordInput={setPasswordInput}\n            emailInput={emailInput}\n            setIsSigningUp={setIsSigningUp}\n            setIsLoggedIn={setIsLoggedIn}\n          />\n        )}\n    \n    {isLoggedIn && !isSigningUp && (\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<Layout search={search} setSearch={setSearch} usernameInput={usernameInput} />}\n          >\n            <Route index element={<Home posts={searchResults} usernameInput={usernameInput} />} />\n            <Route path=\"myPost\" element={<MyPostDisplay posts={searchResults} usernameInput={usernameInput} myPost={myPost} />} />\n\n            <Route path=\"post\">\n              <Route\n                index\n                element={\n                  <NewPost\n                    handleImageChange= {handleImageChange}\n                    handleSubmit={handleSubmit}\n                    postTitle={postTitle}\n                    setPostTitle={setPostTitle}\n                    postBody={postBody}\n                    setPostBody={setPostBody}\n                    setSelectedImage={setSelectedImage}\n                    selectedImage={selectedImage}\n                  />\n                }\n              />\n              <Route\n                path=\"/post/edit/:id\"\n                element={(\n                  <EditPost\n                    posts={posts}\n                    handleEdit={handleEdit}\n                    editTitle={editTitle}\n                    setEditTitle={setEditTitle}\n                    editBody={editBody}\n                    setEditBody={setEditBody}\n                  />\n                )}\n              />\n              <Route\n                path=\":id\"\n                element={<PostPage usernameInput={usernameInput} posts={posts} handleDelete={handleDelete} />}\n              />\n            </Route>\n\n            <Route path=\"settings\" element={<Settings handleSignOut={handleSignOut} />} />\n\n            <Route path=\"*\" element={<Missing />} />\n          </Route>\n        </Routes>\n      )}\n    </>\n  );\n}\n  \nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}